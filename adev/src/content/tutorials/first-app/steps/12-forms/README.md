# Adding a form to your Angular app

В этом уроке показано, как добавить форму для сбора пользовательских данных в приложение Angular.
Урок начинается с уже работающего приложения Angular и демонстрирует процесс добавления в него формы.

Данные, которые собирает форма, отправляются только в сервис приложения, который выводит их в консоль браузера.
Использование REST API для отправки и получения данных формы в этом уроке не рассматривается.

<docs-video src="https://www.youtube.com/embed/kWbk-dOJaNQ?si=FYMXGdUiT-qh321h"/>

ВАЖНО: Для выполнения этого этапа руководства мы рекомендуем использовать локальную среду разработки.

## Чему вы научитесь

- В вашем приложении появится форма, в которую пользователи смогут вводить данные для отправки в сервис приложения.
- Сервис будет выводить данные из формы в журнал консоли браузера.

<docs-workflow>

<docs-step title="Добавление метода для отправки данных формы">
Этот шаг добавляет метод в сервис вашего приложения, который получает данные формы для отправки по назначению.
В этом примере метод выводит данные из формы в журнал консоли браузера.

В панели **Edit** вашей IDE:

1. В файле `src/app/housing.service.ts`, внутри класса `HousingService`, вставьте этот метод в конец определения класса.

<docs-code header="Submit method in src/app/housing.service.ts" path="adev/src/content/tutorials/first-app/steps/13-search/src/app/housing.service.ts" visibleLines="[120,124]"/>

1. Убедитесь, что приложение собирается без ошибок.
   Исправьте все ошибки, прежде чем переходить к следующему шагу.
   </docs-step>

<docs-step title="Добавление функциональности формы на страницу с деталями">
Этот шаг добавляет код на страницу с деталями, который обрабатывает взаимодействие с формой.

В панели **Edit** вашей IDE, в файле `src/app/details/details.ts`:

1. После операторов `import` в начале файла добавьте следующий код для импорта классов форм Angular.

<docs-code header="Forms imports in src/app/details/details.ts" path="adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.ts" visibleLines="[5]"/>

1. В метаданных декоратора `Details` обновите свойство `imports` следующим кодом:

<docs-code header="imports directive in src/app/details/details.ts" path="adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.ts" visibleLines="[9]"/>

1. В классе `Details`, перед методом `constructor()`, добавьте следующий код для создания объекта формы.

   <docs-code header="template directive in src/app/details/details.ts" path="adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.ts" visibleLines="[52,56]"/>

   В Angular `FormGroup` и `FormControl` — это типы, позволяющие создавать формы. Тип `FormControl` может предоставлять
   значение по умолчанию и определять форму данных. В этом примере `firstName` — это строка (`string`), а значение по
   умолчанию — пустая строка.

1. В классе `Details`, после метода `constructor()`, добавьте следующий код для обработки нажатия **Apply now**.

   <docs-code header="template directive in src/app/details/details.ts" path="adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.ts" visibleLines="[62,68]"/>

   Этой кнопки еще не существует — вы добавите ее на следующем шаге. В приведенном выше коде `FormControl` могут
   возвращать `null`. Этот код использует оператор объединения с null (nullish coalescing operator), чтобы установить
   пустую строку по умолчанию, если значение равно `null`.

1. Убедитесь, что приложение собирается без ошибок.
   Исправьте все ошибки, прежде чем переходить к следующему шагу.
   </docs-step>

<docs-step title="Добавление разметки формы на страницу с деталями">
Этот шаг добавляет разметку на страницу с деталями для отображения формы.

В панели **Edit** вашей IDE, в файле `src/app/details/details.ts`:

1. В метаданных декоратора `Details` обновите HTML в `template`, чтобы он соответствовал следующему коду для добавления
   разметки формы.

   <docs-code language="angular-ts" header="template directive in src/app/details/details.ts" path="adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.ts" visibleLines="[10,45]"/>

   Шаблон теперь включает обработчик событий `(submit)="submitApplication()"`. Angular использует синтаксис круглых
   скобок вокруг имени события для определения событий в коде шаблона. Код справа от знака равенства — это код, который
   должен быть выполнен при срабатывании этого события. Вы можете привязываться к событиям браузера и пользовательским
   событиям.

1. Убедитесь, что приложение собирается без ошибок.
   Исправьте все ошибки, прежде чем переходить к следующему шагу.

<img alt="страница с деталями и формой для подачи заявки на проживание в этом месте" src="assets/images/tutorials/first-app/homes-app-lesson-12-step-3.png">

</docs-step>

<docs-step title="Тестирование новой формы приложения">
Этот шаг тестирует новую форму, чтобы убедиться, что при отправке данных формы в приложение они появляются в журнале консоли.

1. В панели **Terminal** вашей IDE запустите `ng serve`, если она еще не запущена.
1. В браузере откройте приложение по адресу `http://localhost:4200`.
1. Щелкните правой кнопкой мыши по приложению в браузере и выберите **Inspect** (Просмотреть код) в контекстном меню.
1. В окне инструментов разработчика выберите вкладку **Console**.
   Убедитесь, что окно инструментов разработчика видно для выполнения следующих шагов.
1. В вашем приложении:
1. Выберите объект недвижимости и нажмите **Learn more**, чтобы увидеть подробности о доме.
1. На странице с деталями дома прокрутите вниз, чтобы найти новую форму.
1. Введите данные в поля формы — любые данные подойдут.
1. Нажмите **Apply now**, чтобы отправить данные.
1. В окне инструментов разработчика просмотрите вывод журнала, чтобы найти данные вашей формы.
   </docs-step>

</docs-workflow>

РЕЗЮМЕ: В этом уроке вы обновили свое приложение, добавив форму с использованием возможностей форм Angular, и подключили
данные, полученные в форме, к компоненту с помощью обработчика событий.

Для получения дополнительной информации по темам, затронутым в этом уроке, посетите:

<docs-pill-row>
  <docs-pill href="guide/forms" title="Формы в Angular"/>
  <docs-pill href="guide/templates/event-listeners" title="Обработка событий"/>
</docs-pill-row>
