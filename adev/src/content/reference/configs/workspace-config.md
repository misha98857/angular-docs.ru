# Конфигурация рабочего пространства Angular

Файл `angular.json`, расположенный в корневом каталоге рабочего пространства Angular, содержит настройки по умолчанию
для всего рабочего пространства и для конкретных проектов. Эти настройки используются инструментами сборки и разработки,
предоставляемыми Angular CLI.
Значения путей, указанные в конфигурации, являются относительными к корневому каталогу рабочего пространства.

## Общая структура JSON

На верхнем уровне файла `angular.json` несколько свойств настраивают рабочее пространство, а секция `projects` содержит
остальные параметры конфигурации для каждого проекта.
Вы можете переопределить настройки Angular CLI по умолчанию, заданные на уровне рабочего пространства, с помощью
настроек на уровне проекта.
Также можно переопределить настройки уровня проекта, используя командную строку.

Следующие свойства на верхнем уровне файла настраивают рабочее пространство.

| Свойства         | Подробности                                                                                                                                                                                                                  |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `version`        | Версия файла конфигурации.                                                                                                                                                                                                   |
| `newProjectRoot` | Путь, по которому создаются новые проекты с помощью таких инструментов, как `ng generate application` или `ng generate library`. Путь может быть абсолютным или относительным к каталогу workspace. По умолчанию `projects`. |
| `cli`            | Набор опций, настраивающих [Angular CLI](tools/cli). См. [Опции конфигурации Angular CLI](#angular-cli-configuration-options) ниже.                                                                                          |
| `schematics`     | Набор [schematics](tools/cli/schematics), настраивающих значения по умолчанию для подкоманды `ng generate` в этом рабочем пространстве. См. [Schematics](#schematics) ниже.                                                  |
| `projects`       | Содержит подсекцию для каждого приложения или библиотеки в рабочем пространстве с опциями конфигурации, специфичными для проекта.                                                                                            |

Первоначальное приложение, которое вы создаете с помощью `ng new app-name`, указывается в разделе "projects".

Когда вы создаете проект библиотеки с помощью `ng generate library`, этот проект также добавляется в секцию `projects`.

ПОЛЕЗНО: Секция `projects` конфигурационного файла не соответствует в точности файловой структуре рабочего пространства.

<!-- markdownlint-disable-next-line MD032 -->

- Первоначальное приложение, созданное с помощью `ng new`, находится на верхнем уровне файловой структуры рабочего
  пространства.
- Другие приложения и библиотеки по умолчанию находятся в каталоге `projects`.

Для получения дополнительной информации
см. [Структура файлов рабочего пространства и проекта](reference/configs/file-structure).

## Опции конфигурации Angular CLI {#angular-cli-configuration-options}

Следующие свойства представляют собой набор опций, настраивающих Angular CLI.

| Свойство               | Подробности                                                                                                                                                                                               | Тип значения                                | Значение по умолчанию |
| :--------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------ | :-------------------- |
| `analytics`            | Делиться анонимными данными об использовании с командой Angular. Логическое значение указывает, делиться данными или нет, а строка UUID позволяет делиться данными, используя псевдонимный идентификатор. | `boolean` \| `string`                       | `false`               |
| `cache`                | Управление [постоянным дисковым кэшем](cli/cache), используемым [Angular CLI Builders](tools/cli/cli-builder).                                                                                            | [Опции кэша](#cache-options)                | `{}`                  |
| `schematicCollections` | Список коллекций schematics для использования в `ng generate`.                                                                                                                                            | `string[]`                                  | `[]`                  |
| `packageManager`       | Предпочитаемый инструмент управления пакетами.                                                                                                                                                            | `npm` \| `cnpm` \| `pnpm` \| `yarn`\| `bun` | `npm`                 |
| `warnings`             | Управление предупреждениями консоли, специфичными для Angular CLI.                                                                                                                                        | [Опции предупреждений](#warnings-options)   | `{}`                  |

### Опции кэша (Cache options) {#cache-options}

| Свойство      | Подробности                                                                                                                                                                                                                      | Тип значения             | Значение по умолчанию |
| :------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------- | :-------------------- |
| `enabled`     | Настройка включения дискового кэширования для сборок.                                                                                                                                                                            | `boolean`                | `true`                |
| `environment` | Настройка среды, в которой включен дисковый кэш.<br><br>_ `ci` включает кэширование только в средах непрерывной интеграции (CI).<br>_ `local` включает кэширование только _вне_ сред CI.<br>\* `all` включает кэширование везде. | `local` \| `ci` \| `all` | `local`               |
| `path`        | Директория, используемая для хранения результатов кэша.                                                                                                                                                                          | `string`                 | `.angular/cache`      |

### Опции предупреждений (Warnings options) {#warnings-options}

| Свойство          | Подробности                                                                     | Тип значения | Значение по умолчанию |
| :---------------- | :------------------------------------------------------------------------------ | :----------- | :-------------------- |
| `versionMismatch` | Показывает предупреждение, когда глобальная версия Angular CLI новее локальной. | `boolean`    | `true`                |

## Опции конфигурации проекта

Следующие свойства конфигурации верхнего уровня доступны для каждого проекта в разделе `projects['project-name']`.

| Свойство      | Подробности                                                                                                                                                                                              | Тип значения                                                | Значение по умолчанию |
| :------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------- | :-------------------- |
| `root`        | Корневая директория для файлов этого проекта относительно директории рабочего пространства. Пустая для первоначального приложения, которое находится на верхнем уровне рабочего пространства.            | `string`                                                    | Нет (обязательно)     |
| `projectType` | Одно из значений: "application" или "library". Приложение может работать независимо в браузере, в то время как библиотека — нет.                                                                         | `application` \| `library`                                  | Нет (обязательно)     |
| `sourceRoot`  | Корневая директория для исходных файлов этого проекта.                                                                                                                                                   | `string`                                                    | `''`                  |
| `prefix`      | Строка, которую Angular добавляет к селекторам при генерации новых компонентов, директив и пайпов с помощью `ng generate`. Может быть настроена для идентификации приложения или функциональной области. | `string`                                                    | `'app'`               |
| `schematics`  | Набор schematics, настраивающих значения по умолчанию для подкоманды `ng generate` в этом проекте. См. раздел [Schematics для генерации](#schematics).                                                   | См. [Schematics](#schematics)                               | `{}`                  |
| `architect`   | Настройки по умолчанию для целей (targets) билдера Architect для этого проекта.                                                                                                                          | См. [Настройка целей билдера](#configuring-builder-targets) | `{}`                  |

## Schematics {#schematics}

[Angular schematics](tools/cli/schematics) — это инструкции для модификации проекта путем добавления новых файлов или
изменения существующих.
Их можно настроить, сопоставив имя схемы (schematic) с набором опций по умолчанию.

"Имя" схемы имеет формат: `<schematic-package>:<schematic-name>`.
Schematics для стандартных подкоманд Angular CLI `ng generate` собраны в пакете [
`@schematics/angular`](https://github.com/angular/angular-cli/blob/main/packages/schematics/angular/application/schema.json).
Например, схема для генерации компонента с помощью `ng generate component` — это `@schematics/angular:component`.

Поля, указанные в схеме (schema) для schematic, соответствуют допустимым значениям аргументов командной строки и
значениям по умолчанию для опций подкоманд Angular CLI.
Вы можете обновить файл схемы рабочего пространства, чтобы установить другое значение по умолчанию для опции подкоманды.
Например, чтобы отключить `standalone` в `ng generate component` по умолчанию:

```json
{
  "projects": {
    "my-app": {
      "schematics": {
        "@schematics/angular:component": {
          "standalone": false
        }
      }
    }
  }
}
```

## Настройка билдеров CLI

Architect — это инструмент, который Angular CLI использует для выполнения сложных задач, таких как компиляция и запуск
тестов.
Architect представляет собой оболочку, которая запускает указанный билдер (builder) для выполнения определенной задачи в
соответствии с конфигурацией цели (target).
Вы можете определять и настраивать новые билдеры и цели для расширения возможностей Angular CLI.
См. [Angular CLI Builders](tools/cli/cli-builder).

### Стандартные билдеры и цели Architect

Angular определяет стандартные билдеры для использования с конкретными командами или с общей командой `ng run`.
JSON-схемы, определяющие опции и значения по умолчанию для каждого из этих билдеров, собраны в пакете [
`@angular-devkit/build-angular`](https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/builders.json).
Схемы настраивают опции для следующих билдеров.

### Настройка целей билдера {#configuring-builder-targets}

Секция `architect` в `angular.json` содержит набор целей (targets) Architect.
Многие цели соответствуют командам Angular CLI, которые их запускают.
Другие цели могут быть выполнены с помощью команды `ng run`, также вы можете определять свои собственные цели.

Каждый объект цели указывает `builder` для этой цели, который является npm-пакетом инструмента, запускаемого Architect.
Каждая цель также имеет секцию `options`, которая настраивает параметры по умолчанию для цели, и секцию
`configurations`, которая именует и определяет альтернативные конфигурации для цели.
См. пример в разделе [Цель сборки (Build target)](#build-target) ниже.

| Свойство       | Подробности                                                                                                                                                                                                               |
| :------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `build`        | Настраивает значения по умолчанию для опций команды `ng build`. См. раздел [Цель сборки](#build-target) для получения дополнительной информации.                                                                          |
| `serve`        | Переопределяет настройки сборки и предоставляет дополнительные настройки сервера для команды `ng serve`. Помимо опций, доступных для команды `ng build`, добавляет опции, связанные с обслуживанием приложения (serving). |
| `e2e`          | Переопределяет настройки сборки для создания приложений для сквозного (end-to-end) тестирования с использованием команды `ng e2e`.                                                                                        |
| `test`         | Переопределяет настройки сборки для тестовых сборок и предоставляет дополнительные настройки запуска тестов для команды `ng test`.                                                                                        |
| `lint`         | Настраивает значения по умолчанию для опций команды `ng lint`, которая выполняет статический анализ кода исходных файлов проекта.                                                                                         |
| `extract-i18n` | Настраивает значения по умолчанию для опций команды `ng extract-i18n`, которая извлекает локализованные строки сообщений из исходного кода и выводит файлы перевода для интернационализации.                              |

ПОЛЕЗНО: Все опции в файле конфигурации должны использовать `camelCase`, а не `dash-case`, как это принято в командной
строке.

## Цель сборки (Build target) {#build-target}

Каждая цель в разделе `architect` имеет следующие свойства:

| Свойство         | Подробности                                                                                                                                                                                                                                                             |
| :--------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `builder`        | CLI builder, используемый для создания этой цели, в формате `<package-name>:<builder-name>`.                                                                                                                                                                            |
| `options`        | Опции по умолчанию для цели сборки.                                                                                                                                                                                                                                     |
| `configurations` | Альтернативные конфигурации для выполнения цели. Каждая конфигурация устанавливает параметры по умолчанию для предполагаемой среды, переопределяя соответствующее значение в `options`. См. [Альтернативные конфигурации сборки](#alternate-build-configurations) ниже. |

Например, чтобы настроить сборку с отключенной оптимизацией:

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "optimization": false
          }
        }
      }
    }
  }
}
```

### Альтернативные конфигурации сборки {#alternate-build-configurations}

Angular CLI поставляется с двумя конфигурациями сборки: `production` и `development`.
По умолчанию команда `ng build` использует конфигурацию `production`, которая применяет несколько оптимизаций сборки,
включая:

- Сборку файлов в бандлы (Bundling)
- Минимизацию лишних пробелов
- Удаление комментариев и "мертвого" кода
- Минификацию кода с использованием коротких, искаженных имен

Вы можете определить и назвать дополнительные альтернативные конфигурации (например, `staging`), подходящие для вашего
процесса разработки.
Выбрать альтернативную конфигурацию можно, передав её имя во флаг командной строки `--configuration`.

Например, чтобы настроить сборку, где оптимизация включена только для production-сборок (
`ng build --configuration production`):

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "optimization": false
          },
          "configurations": {
            "production": {
              "optimization": true
            }
          }
        }
      }
    }
  }
}
```

Вы также можете передать более одного имени конфигурации в виде списка, разделенного запятыми.
Например, чтобы применить конфигурации сборки `staging` и `french`, используйте команду
`ng build --configuration staging,french`.
В этом случае команда анализирует именованные конфигурации слева направо.
Если несколько конфигураций изменяют одну и ту же настройку, окончательным будет последнее установленное значение.
В этом примере, если и `staging`, и `french` конфигурации устанавливают путь вывода (output path), будет использовано
значение из `french`.

### Дополнительные опции сборки и тестирования

Настраиваемые опции для стандартной или целевой сборки обычно соответствуют опциям, доступным для команд [
`ng build`](cli/build) и [`ng test`](cli/test).
Подробности об этих опциях и их возможных значениях см. в [Справочнике Angular CLI](cli).

| Свойства опций             | Подробности                                                                                                                                                                                                                                                                                                    |
| :------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `assets`                   | Объект, содержащий пути к статическим ресурсам для обслуживания вместе с приложением. Пути по умолчанию указывают на директорию `public` проекта. Подробнее см. в разделе [Конфигурация ресурсов (Assets)](#assets-configuration).                                                                             |
| `styles`                   | Массив CSS-файлов для добавления в глобальный контекст проекта. Angular CLI поддерживает импорт CSS и все основные препроцессоры CSS. Подробнее см. в разделе [Конфигурация стилей и скриптов](#styles-and-scripts-configuration).                                                                             |
| `stylePreprocessorOptions` | Объект, содержащий пары опция-значение для передачи препроцессорам стилей. Подробнее см. в разделе [Конфигурация стилей и скриптов](#styles-and-scripts-configuration).                                                                                                                                        |
| `scripts`                  | Объект, содержащий JavaScript-файлы для добавления в приложение. Скрипты загружаются так же, как если бы вы добавили их в тег `<script>` внутри `index.html`. Подробнее см. в разделе [Конфигурация стилей и скриптов](#styles-and-scripts-configuration).                                                     |
| `budgets`                  | Тип бюджета размера по умолчанию и пороговые значения для всего приложения или его частей. Вы можете настроить билдер так, чтобы он выдавал предупреждение или ошибку, когда выходной файл достигает или превышает пороговый размер. См. [Настройка бюджетов размера](tools/cli/build#configure-size-budgets). |
| `fileReplacements`         | Объект, содержащий файлы и их замены во время компиляции. Подробнее см. в [Настройка замены файлов для конкретной цели](tools/cli/build#configure-target-specific-file-replacements).                                                                                                                          |
| `index`                    | Базовый HTML-документ, который загружает приложение. Подробнее см. в [Конфигурация Index](#index-configuration).                                                                                                                                                                                               |
| `security`                 | Объект, содержащий ключ `autoCsp`, который может быть установлен в `true` или `false`.                                                                                                                                                                                                                         |

### Дополнительные опции serve

Dev-сервер поставляется со своим набором опций, которые в целом соответствуют опциям, доступным для команды [
`ng serve`](cli/serve).

| Свойства опций | Подробности                                                                                                                                                                                                                                   |
| :------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `allowedHosts` | Массив хостов, на которые будет отвечать сервер разработки. Эта опция устанавливает одноименную опцию Vite. Для получения дополнительной информации [см. документацию vite](https://vite.dev/config/server-options.html#server-allowedhosts). |

## Сложные значения конфигурации

Опции `assets`, `index`, `outputPath`, `styles` и `scripts` могут иметь либо простые строковые значения путей, либо
значения объектов с определенными полями.
Опции `sourceMap` и `optimization` могут быть установлены в простое логическое значение (`boolean`). Им также можно
задать сложное значение с помощью файла конфигурации.

В следующих разделах приводится более подробная информация о том, как используются эти сложные значения в каждом случае.

### Конфигурация ресурсов (Assets) {#assets-configuration}

Каждая конфигурация цели `build` может включать массив `assets`, в котором перечислены файлы или папки, которые вы
хотите скопировать "как есть" при сборке проекта.
По умолчанию копируется содержимое директории `public/`.

Чтобы исключить ресурс, вы можете удалить его из конфигурации assets.

Вы можете дополнительно настроить копирование ресурсов, указав их как объекты, а не как простые пути относительно корня
рабочего пространства.
Объект спецификации ресурса может иметь следующие поля.

| Поля             | Подробности                                                                                                                                                |
| :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `glob`           | [node-glob](https://github.com/isaacs/node-glob/blob/master/README.md), использующий `input` в качестве базовой директории.                                |
| `input`          | Путь относительно корня рабочего пространства.                                                                                                             |
| `output`         | Путь относительно `outDir`. Из-за соображений безопасности Angular CLI никогда не записывает файлы за пределы выходного пути проекта.                      |
| `ignore`         | Список glob-шаблонов для исключения.                                                                                                                       |
| `followSymlinks` | Разрешает glob-шаблонам переходить по символическим ссылкам на директории. Это позволяет искать в подкаталогах символической ссылки. По умолчанию `false`. |

Например, пути к ресурсам по умолчанию могут быть представлены более детально с помощью следующих объектов.

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "assets": [
              {
                "glob": "**/*",
                "input": "src/assets/",
                "output": "/assets/"
              },
              {
                "glob": "favicon.ico",
                "input": "src/",
                "output": "/"
              }
            ]
          }
        }
      }
    }
  }
}
```

В следующем примере используется поле `ignore`, чтобы исключить копирование определенных файлов из директории assets в
сборку:

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "assets": [
              {
                "glob": "**/*",
                "input": "src/assets/",
                "ignore": ["**/*.svg"],
                "output": "/assets/"
              }
            ]
          }
        }
      }
    }
  }
}
```

### Конфигурация стилей и скриптов {#styles-and-scripts-configuration}

Элемент массива для опций `styles` и `scripts` может быть простой строкой пути или объектом, указывающим на
дополнительный файл точки входа (entry-point).
Соответствующий билдер загружает этот файл и его зависимости как отдельный бандл во время сборки.
С помощью объекта конфигурации у вас есть возможность назвать бандл для точки входа, используя поле `bundleName`.

Бандл внедряется по умолчанию, но вы можете установить `inject` в `false`, чтобы исключить бандл из внедрения.
Например, следующие значения объектов создают и именуют бандл, содержащий стили и скрипты, и исключают его из внедрения:

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "styles": [
              {
                "input": "src/external-module/styles.scss",
                "inject": false,
                "bundleName": "external-module"
              }
            ],
            "scripts": [
              {
                "input": "src/external-module/main.js",
                "inject": false,
                "bundleName": "external-module"
              }
            ]
          }
        }
      }
    }
  }
}
```

#### Опции препроцессора стилей

В Sass вы можете использовать функцию `includePaths` как для стилей компонентов, так и для глобальных стилей. Это
позволяет добавлять дополнительные базовые пути, которые проверяются при импорте.

Чтобы добавить пути, используйте опцию `stylePreprocessorOptions`:

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "stylePreprocessorOptions": {
              "includePaths": [
                "src/style-paths"
              ]
            }
          }
        }
      }
    }
  }
}
```

Файлы в этой директории, такие как `src/style-paths/_variables.scss`, могут быть импортированы из любого места вашего
проекта без необходимости указывать относительный путь:

```scss
// src/app/app.component.scss
// Относительный путь работает
@import '../style-paths/variables';

// Но теперь работает и так
@import 'variables';
```

ПОЛЕЗНО: Вам также необходимо добавить любые стили или скрипты в билдер `test`, если они нужны для модульных тестов.
См.
также [Использование глобальных библиотек времени выполнения внутри вашего приложения](tools/libraries/using-libraries#using-runtime-global-libraries-inside-your-app).

### Конфигурация оптимизации

Опция `optimization` может быть либо логическим значением, либо объектом для более тонкой настройки.
Эта опция включает различные оптимизации выходных данных сборки, в том числе:

- Минификацию скриптов и стилей
- Tree-shaking
- Удаление "мертвого" кода
- [Встраивание критического CSS](/tools/cli/build#critical-css-inlining)
- Встраивание шрифтов

Для тонкой настройки оптимизации приложения можно использовать несколько опций.

| Опции     | Подробности                                                              | Тип значения                                                          | Значение по умолчанию |
| :-------- | :----------------------------------------------------------------------- | :-------------------------------------------------------------------- | :-------------------- |
| `scripts` | Включает оптимизацию вывода скриптов.                                    | `boolean`                                                             | `true`                |
| `styles`  | Включает оптимизацию вывода стилей.                                      | `boolean` \| [Опции оптимизации стилей](#styles-optimization-options) | `true`                |
| `fonts`   | Включает оптимизацию для шрифтов. Для этого требуется доступ в интернет. | `boolean` \| [Опции оптимизации шрифтов](#fonts-optimization-options) | `true`                |

#### Опции оптимизации стилей {#styles-optimization-options}

| Опции                   | Подробности                                                                                                                        | Тип значения | Значение по умолчанию |
| :---------------------- | :--------------------------------------------------------------------------------------------------------------------------------- | :----------- | :-------------------- |
| `minify`                | Минифицирует определения CSS путем удаления лишних пробелов и комментариев, объединения идентификаторов и минимизации значений.    | `boolean`    | `true`                |
| `inlineCritical`        | Извлекает и встраивает критические определения CSS для улучшения [First Contentful Paint](https://web.dev/first-contentful-paint). | `boolean`    | `true`                |
| `removeSpecialComments` | Удаляет комментарии в глобальном CSS, которые содержат `@license` или `@preserve`, или начинаются с `//!` или `/*!`.               | `boolean`    | `true`                |

#### Опции оптимизации шрифтов {#fonts-optimization-options}

| Опции    | Подробности                                                                                                                                                                                                                                      | Тип значения | Значение по умолчанию |
| :------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------- | :-------------------- |
| `inline` | Уменьшает количество [запросов, блокирующих рендеринг](https://web.dev/render-blocking-resources), путем встраивания внешних определений CSS Google Fonts и Adobe Fonts в HTML-индексный файл приложения. Для этого требуется доступ в интернет. | `boolean`    | `true`                |

Вы можете указать значение, подобное следующему, чтобы применить оптимизацию к одному или другому:

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "stylePreprocessorOptions": {
              "includePaths": [
                "src/style-paths"
              ]
            }
          }
        }
      }
    }
  }
}
```

### Конфигурация Source Map

Опция билдера `sourceMap` может быть либо логическим значением, либо объектом для более тонкой настройки управления
картами кода (source maps) приложения.

| Опции            | Подробности                                                           | Тип значения | Значение по умолчанию |
| :--------------- | :-------------------------------------------------------------------- | :----------- | :-------------------- |
| `scripts`        | Выводить source maps для всех скриптов.                               | `boolean`    | `true`                |
| `styles`         | Выводить source maps для всех стилей.                                 | `boolean`    | `true`                |
| `vendor`         | Разрешать source maps для пакетов сторонних поставщиков (vendor).     | `boolean`    | `false`               |
| `hidden`         | Не добавлять ссылку на source maps в выходной JavaScript.             | `boolean`    | `false`               |
| `sourcesContent` | Выводить оригинальный исходный контент для файлов внутри source maps. | `boolean`    | `true`                |

Пример ниже показывает, как переключить одно или несколько значений для настройки вывода source map:

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "sourceMap": {
              "scripts": true,
              "styles": false,
              "hidden": true,
              "vendor": true
            }
          }
        }
      }
    }
  }
}
```

ПОЛЕЗНО: При использовании скрытых (hidden) source maps, ссылки на них не включаются в бандл.
Это полезно, если вы хотите использовать source maps только для сопоставления трассировки стека в инструментах отчетов
об ошибках, не показывая их в инструментах разработчика браузера.
Обратите внимание, что даже если `hidden` предотвращает связывание source map в выходном бандле, ваш процесс
развертывания должен позаботиться о том, чтобы не отдавать сгенерированные source maps в production, иначе информация
все равно утечет.

#### Source maps без содержимого источников

Вы можете генерировать source maps без поля `sourcesContent`, которое содержит исходный код.
Это позволяет развертывать source maps в production для лучшего отчета об ошибках с оригинальными именами источников,
защищая при этом ваш исходный код от раскрытия.

Чтобы исключить содержимое источников из source maps, установите опцию `sourcesContent` в `false`:

```json
{
  "projects": {
    "my-app": {
      "architect": {
        "build": {
          "builder": "@angular/build:application",
          "options": {
            "sourceMap": {
              "scripts": true,
              "styles": true,
              "sourcesContent": false
            }
          }
        }
      }
    }
  }
}
```

### Конфигурация Index {#index-configuration}

Настраивает генерацию HTML-индекса приложения.

Опция `index` может быть либо строкой, либо объектом для более тонкой настройки.

При передаче значения в виде строки, имя файла указанного пути будет использоваться для сгенерированного файла, и он
будет создан в корне настроенного выходного пути приложения.

#### Опции Index

| Опции    | Подробности                                                                                                                                                                            | Тип значения | Значение по умолчанию |
| :------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------- | :-------------------- |
| `input`  | Путь к файлу, который будет использоваться для сгенерированного HTML-индекса приложения.                                                                                               | `string`     | Нет (обязательно)     |
| `output` | Выходной путь сгенерированного файла HTML-индекса приложения. Будет использован полный предоставленный путь, который считается относительным к настроенному выходному пути приложения. | `string`     | `index.html`          |

### Конфигурация выходного пути (Output path)

Опция `outputPath` может быть либо строкой, которая будет использоваться как значение `base`, либо объектом для более
тонкой настройки.

Для тонкой настройки структуры вывода приложения можно использовать несколько опций.

| Опции     | Подробности                                                                                                                                                      | Тип значения | Значение по умолчанию |
| :-------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------- | :-------------------- |
| `base`    | Указывает выходной путь относительно корня рабочего пространства.                                                                                                | `string`     |                       |
| `browser` | Имя выходной директории для браузерной сборки внутри базового выходного пути. Это можно безопасно отдавать пользователям.                                        | `string`     | `browser`             |
| `server`  | Имя выходной директории для серверной сборки внутри базового выходного пути.                                                                                     | `string`     | `server`              |
| `media`   | Имя выходной директории для медиафайлов, расположенной внутри выходной директории браузера. Эти медиафайлы обычно называются ресурсами (resources) в файлах CSS. | `string`     | `media`               |
