# Небезопасные привязки в элементе iframe

Вы увидите эту ошибку, когда Angular обнаружит привязку атрибута или свойства к элементу `<iframe>` с использованием
следующих имен свойств:

- sandbox
- allow
- allowFullscreen
- referrerPolicy
- csp
- fetchPriority

Упомянутые атрибуты влияют на настройку модели безопасности для `<iframe>`, и важно применить их до установки атрибутов
`src` или `srcdoc`.
Чтобы гарантировать это, Angular требует, чтобы эти атрибуты были установлены в `<iframe>` как статические атрибуты.
Благодаря этому значения устанавливаются во время создания элемента и остаются неизменными на протяжении всего времени
жизни экземпляра `<iframe>`.

Ошибка возникает при использовании привязки свойства с одним из упомянутых имен атрибутов:

```angular-html
<iframe [sandbox]="'allow-scripts'" src="..."></iframe>
```

или при использовании привязки атрибутов:

```angular-html
<iframe [attr.sandbox]="'allow-scripts'" src="..."></iframe>
```

Кроме того, ошибка возникает, если подобный шаблон используется в хост-привязках (host bindings) директивы:

```typescript
@Directive({
  selector: 'iframe',
  host: {
    '[sandbox]': `'allow-scripts'`,
    '[attr.sandbox]': `'allow-scripts'`,
  }
})
class IframeDirective {}
```

## Отладка ошибки

Сообщение об ошибке содержит имя компонента и шаблон, в котором находится элемент `<iframe>` с небезопасными привязками.

Рекомендуемое решение — использовать упомянутые атрибуты как статические, например:

```angular-html
<iframe sandbox="allow-scripts" src="..."></iframe>
```

Если вам требуются разные значения для этих атрибутов (в зависимости от различных условий), вы можете использовать
`*ngIf` или `*ngSwitch` на элементе `<iframe>`:

```angular-html
<iframe *ngIf="someConditionA" sandbox="allow-scripts" src="..."></iframe>
<iframe *ngIf="someConditionB" sandbox="allow-forms" src="..."></iframe>
<iframe *ngIf="someConditionC" sandbox="allow-popups" src="..."></iframe>
```
