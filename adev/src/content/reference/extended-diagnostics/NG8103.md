# Отсутствующая директива управления потоком

Эта диагностика гарантирует, что Standalone-компонент, использующий известные директивы управления потоком (такие как
`*ngIf`, `*ngFor` или `*ngSwitch`) в шаблоне, также импортирует эти директивы по отдельности или через импорт
`CommonModule`.

```angular-ts
import {Component} from '@angular/core';

@Component({
  // Шаблон использует `*ngIf`, но соответствующая директива не импортирована.
  imports: [],
  template: `<div *ngIf="visible">Hi</div>`,
})
class MyComponent {}
```

## В чем проблема?

Использование директивы управления потоком без ее импорта приведет к ошибке во время выполнения, так как Angular
попытается выполнить привязку к свойству `ngIf` HTML-элемента, которого не существует.

## Что следует сделать?

Убедитесь, что соответствующая директива управления потоком импортирована.

Директиву можно импортировать отдельно:

```angular-ts
import {Component} from '@angular/core';
import {NgIf} from '@angular/common';

@Component({
  imports: [NgIf],
  template: `<div *ngIf="visible">Hi</div>`,
})
class MyComponent {}
```

или можно импортировать весь `CommonModule`, который содержит все директивы управления потоком:

```angular-ts
import {Component} from '@angular/core';
import {CommonModule} from '@angular/common';

@Component({
  imports: [CommonModule],
  template: `<div *ngIf="visible">Hi</div>`,
})
class MyComponent {}
```

## Требования к конфигурации

Для работы любой расширенной диагностики необходимо включить [
`strictTemplates`](tools/cli/template-typecheck#strict-mode).
У `missingControlFlowDirective` нет дополнительных требований, кроме `strictTemplates`.

## Что делать, если этого нельзя избежать?

Эту диагностику можно отключить, отредактировав файл `tsconfig.json` проекта:

```json

{
  "angularCompilerOptions": {
    "extendedDiagnostics": {
      "checks": {
        "missingControlFlowDirective": "suppress"
      }
    }
  }
}
```

Подробнее см. в разделе [конфигурация расширенной диагностики](extended-diagnostics#configuration).
