# Версионирование и релизы Angular

Мы понимаем, что вам необходима стабильность фреймворка Angular.
Стабильность гарантирует, что повторно используемые компоненты и библиотеки, руководства, инструменты и изученные
практики не устареют неожиданно.
Стабильность необходима для процветания экосистемы вокруг Angular.

Мы также разделяем с вами потребность Angular в постоянном развитии.
Мы стремимся к тому, чтобы фундамент, на котором вы строите свои приложения, постоянно улучшался и позволял вам идти в
ногу с остальной веб-экосистемой и потребностями ваших пользователей.

Этот документ содержит практики, которым мы следуем, чтобы предоставить вам передовую платформу для разработки
приложений, сбалансированную со стабильностью.
Мы стремимся обеспечить предсказуемость внедрения будущих изменений.
Мы хотим, чтобы все, кто зависит от Angular, знали, когда и как добавляются новые функции, и были хорошо подготовлены к
удалению устаревших.

Иногда _ломающие изменения_ (breaking changes), такие как удаление API или функций, необходимы для внедрения инноваций и
соответствия развивающимся лучшим практикам, изменениям зависимостей или сдвигам в веб-платформе. Эти ломающие изменения
проходят через процесс устаревания, описанный в нашей [политике устаревания](#deprecation-policy).

Чтобы сделать эти переходы максимально простыми, команда Angular берет на себя следующие обязательства:

- Мы прилагаем все усилия, чтобы минимизировать количество ломающих изменений и предоставлять инструменты миграции,
  когда это возможно.
- Мы следуем описанной здесь политике устаревания, чтобы у вас было время обновить свои приложения до новейших API и
  лучших практик.

HELPFUL: Практики, описанные в этом документе, применимы к Angular 2.0 и более поздним версиям.
Если вы в настоящее время используете AngularJS,
см. [Обновление с AngularJS](https://angular.io/guide/upgrade 'Upgrading from Angular JS').
_AngularJS_ — это название для всех версий Angular v1.x.

## Версионирование Angular

Номера версий Angular указывают на уровень изменений, внесенных в релиз.
Использование [семантического версионирования](https://semver.org/ 'Semantic Versioning Specification') помогает понять
потенциальное влияние обновления на новую версию.

Номера версий Angular состоят из трех частей: `major.minor.patch`.
Например, версия 7.2.11 указывает на мажорную версию 7, минорную версию 2 и уровень патча 11.

Номер версии увеличивается в зависимости от уровня изменений, включенных в релиз.

| Уровень изменений      | Подробности                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| :--------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Мажорный релиз (Major) | Содержит значительные новые функции; во время обновления ожидается некоторое, но минимальное вмешательство разработчика. При обновлении до новой мажорной версии вам может потребоваться запустить скрипты обновления, рефакторить код, запустить дополнительные тесты и изучить новые API.                                                                                                                                                               |
| Минорный релиз (Minor) | Содержит новые небольшие функции. Минорные релизы полностью обратно совместимы; вмешательство разработчика при обновлении не требуется, но вы можете по желанию изменить свои приложения и библиотеки, чтобы начать использовать новые API, функции и возможности, добавленные в релиз. Мы обновляем peer-зависимости (peer dependencies) в минорных версиях, расширяя список поддерживаемых версий, но не требуем от проектов обновлять эти зависимости. |
| Патч-релиз (Patch)     | Релиз с низким риском, исправляющий ошибки. Вмешательство разработчика при обновлении не требуется.                                                                                                                                                                                                                                                                                                                                                       |

HELPFUL: Начиная с 7-й версии Angular, мажорные версии ядра Angular и CLI синхронизированы.
Это означает, что для использования CLI при разработке приложения на Angular версии `@angular/core` и CLI должны
совпадать.

### Предварительные релизы (Preview releases)

Мы даем вам возможность предварительно ознакомиться с тем, что будет дальше, предоставляя пре-релизы "Next" и Release
Candidates \(`rc`\) для каждого мажорного и минорного релиза:

| Тип пре-релиза    | Подробности                                                                                                                                                                                                            |
| :---------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Next              | Релиз, находящийся в активной разработке и тестировании. Релиз "next" обозначается тегом релиза с добавлением идентификатора `-next`, например `8.1.0-next.0`.                                                         |
| Release candidate | Релиз, который функционально завершен и находится на стадии финального тестирования. Release candidate (кандидат в релизы) обозначается тегом релиза с добавлением идентификатора `-rc`, например версия `8.1.0-rc.0`. |

Последняя `next` или `rc` версия документации доступна по адресу [next.angular.dev](https://next.angular.dev).

## Частота релизов

Мы стремимся к регулярному графику релизов, чтобы вы могли планировать и координировать свои обновления с продолжающейся
эволюцией Angular.

HELPFUL: Даты предлагаются в качестве общего руководства и могут быть изменены.

В целом, ожидайте следующий цикл релизов:

- Мажорный релиз каждые 6 месяцев
- 1-3 минорных релиза для каждой мажорной версии
- Патч-релиз и пре-релиз \(`next` или `rc`\) почти каждую неделю

Такой ритм релизов дает активным разработчикам доступ к новым функциям, как только они полностью разработаны и проходят
наши процессы проверки кода и интеграционного тестирования, сохраняя при этом стабильность и надежность платформы для
пользователей в продакшене, которые предпочитают получать функции после того, как они были проверены Google и другими
разработчиками, использующими пре-релизные сборки.

## Политика и график поддержки

HELPFUL: Приблизительные даты предлагаются в качестве общего руководства и могут быть изменены.

### График релизов

График релизов для предстоящих версий будет объявлен позже (TBA).

<!--
| Version | Date               |
| :------ | :----------------- |
| v21.1   | Week of TBD |
| v21.2   | Week of TBD |
| v22.0   | Week of TBD |
-->

### Окно поддержки

Все мажорные релизы обычно поддерживаются в течение 18 месяцев.

| Этап поддержки     | Длительность | Подробности                                                                   |
| :----------------- | :----------- | :---------------------------------------------------------------------------- |
| Активный (Active)  | 6 месяцев    | Выпускаются регулярные обновления и патчи                                     |
| Долгосрочный (LTS) | 12 месяцев   | Выпускаются только [критические исправления и патчи безопасности](#lts-fixes) |

### Активно поддерживаемые версии

В следующей таблице представлен статус поддерживаемых версий Angular.

| Версия  | Статус | Дата выпуска | Конец активной фазы | Конец LTS  |
| :------ | :----- | :----------- | :------------------ | :--------- |
| ^21.0.0 | Active | 2025-11-19   | 2026-05-19          | 2027-05-19 |
| ^20.0.0 | LTS    | 2025-05-28   | 2025-11-19          | 2026-11-28 |
| ^19.0.0 | LTS    | 2024-11-19   | 2025-05-28          | 2026-05-19 |

Версии Angular с v2 по v18 больше не поддерживаются.

### Исправления LTS

Как правило, исправление рассматривается для версии LTS, если оно устраняет одно из следующих условий:

- Вновь выявленная уязвимость безопасности,
- Регрессия, возникшая с момента начала LTS, вызванная изменением стороннего ПО, например, новой версией браузера.

## Политика устаревания (Deprecation policy)

Когда команда Angular намеревается удалить API или функцию, она помечается как _устаревшая_ (deprecated). Это
происходит, когда API устарел, был заменен другим API или иным образом прекращен. Устаревший API остается доступным в
течение фазы устаревания, которая длится минимум две мажорные версии (примерно один год).

Чтобы гарантировать, что у вас будет достаточно времени и четкий путь для обновления, наша политика устаревания такова:

| Этапы устаревания  | Подробности                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :----------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Анонс              | Мы объявляем об устаревших API и функциях в [журнале изменений](https://github.com/angular/angular/blob/main/CHANGELOG.md 'Angular change log'). Устаревшие API отображаются в [документации](api?status=8) с ~~зачеркиванием~~. Когда мы объявляем об устаревании, мы также объявляем рекомендуемый путь обновления. Кроме того, все устаревшие API аннотируются `@deprecated` в соответствующей документации, что позволяет текстовым редакторам и IDE предоставлять подсказки, если ваш проект зависит от них.                               |
| Период устаревания | Когда API или функция объявляются устаревшими, они все еще присутствуют как минимум в следующих двух мажорных релизах (период не менее 12 месяцев). После этого устаревшие API и функции становятся кандидатами на удаление. Устаревание может быть объявлено в любом релизе, но удаление устаревшего API или функции происходит только в мажорном релизе. Пока устаревший API или функция не удалены, они поддерживаются в соответствии с политикой поддержки LTS, что означает исправление только критических проблем и проблем безопасности. |
| npm-зависимости    | Мы вносим обновления npm-зависимостей, требующие изменений в ваших приложениях, только в мажорных релизах. В минорных релизах мы обновляем peer-зависимости, расширяя список поддерживаемых версий, но не требуем от проектов обновлять эти зависимости до будущей мажорной версии. Это означает, что во время минорных релизов Angular обновления npm-зависимостей в приложениях и библиотеках Angular являются необязательными.                                                                                                               |

## Политика совместимости

Angular — это коллекция множества пакетов, подпроектов и инструментов.
Чтобы предотвратить случайное использование приватных API и чтобы вы могли четко понимать, что охватывается описанными
здесь практиками, мы документируем, что считается, а что не считается нашей поверхностью публичного API.
Подробности см. в
разделе [Поддерживаемая поверхность публичного API Angular](https://github.com/angular/angular/blob/main/contributing-docs/public-api-surface.md 'Supported Public API Surface of Angular').

Чтобы гарантировать обратную совместимость Angular, мы проводим серию проверок перед слиянием любого изменения:

- Юнит-тесты и интеграционные тесты
- Сравнение определений типов поверхности публичного API до и после изменения
- Запуск тестов всех приложений в Google, которые зависят от Angular

Любые изменения поверхности публичного API вносятся в соответствии с политиками версионирования, поддержки и
устаревания, описанными ранее. В исключительных случаях, таких как критические патчи безопасности, исправления могут
вносить изменения, нарушающие обратную совместимость. Такие исключительные случаи сопровождаются явным уведомлением на
официальных каналах связи фреймворка.

## Политика ломающих изменений и пути обновления

Ломающее изменение (breaking change) требует от вас выполнения работы, так как состояние после него не является обратно
совместимым с состоянием до него. Редкие исключения из этого правила можно найти
в [Политике совместимости](#compatibility-policy). Примерами ломающих изменений являются удаление публичных API или
другие изменения определений типов Angular, изменение времени вызовов или обновление до новой версии зависимости
Angular, которая сама содержит ломающие изменения.

Для поддержки вас в случае ломающих изменений в Angular:

- Мы следуем нашей [политике устаревания](#deprecation-policy) перед удалением публичного API.
- Поддерживаем автоматизацию обновления с помощью команды `ng update`. Она предоставляет преобразования кода, которые мы
  часто тестируем заранее на сотнях тысяч проектов в Google.
- Предоставляем пошаговые инструкции по обновлению с одной мажорной версии на другую
  в ["Руководстве по обновлению Angular"](update-guide).

Вы можете выполнить `ng update` до любой версии Angular при условии соблюдения следующих критериев:

- Версия, _до_ которой вы хотите обновиться, поддерживается.
- Версия, _с_ которой вы хотите обновиться, находится в пределах одной мажорной версии от той, до которой вы хотите
  обновиться.

Например, вы можете обновиться с версии 11 до версии 12 при условии, что версия 12 все еще поддерживается.
Если вы хотите обновиться через несколько мажорных версий, выполняйте каждое обновление последовательно, по одной
мажорной версии за раз.
Например, чтобы обновиться с версии 10 до версии 12:

1. Обновитесь с версии 10 до версии 11.
1. Обновитесь с версии 11 до версии 12.

## Developer Preview

Иногда мы представляем новые API под меткой "Developer Preview". Это API, которые полностью функциональны и отлажены, но
которые мы пока не готовы стабилизировать в рамках нашей обычной политики устаревания.

Это может быть связано с тем, что мы хотим собрать отзывы от реальных приложений перед стабилизацией, или потому что
соответствующая документация или инструменты миграции еще не полностью готовы. Отзывы можно оставить
через [GitHub issue](https://github.com/angular/angular/issues), где разработчики могут поделиться своим опытом,
сообщить об ошибках или предложить улучшения, которые помогут доработать функцию.

Политики и практики, описанные в этом документе, не применяются к API, помеченным как Developer Preview. Такие API могут
измениться в любое время, даже в новых патч-версиях фреймворка. Команды должны самостоятельно решать, стоят ли
преимущества использования API из Developer Preview риска ломающих изменений вне нашего обычного использования
семантического версионирования.

## Экспериментальные функции (Experimental)

Эти API могут вообще не стать стабильными или претерпеть значительные изменения перед тем, как стать стабильными.

Политики и практики, описанные в этом документе, не применяются к API, помеченным как экспериментальные. Такие API могут
измениться в любое время, даже в новых патч-версиях фреймворка. Команды должны самостоятельно решать, стоят ли
преимущества использования экспериментальных API риска ломающих изменений вне нашего обычного использования
семантического версионирования.
